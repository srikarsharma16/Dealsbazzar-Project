{"ast":null,"code":"var _jsxFileName = \"/home/akash/Documents/part2/day729dec/ECommerceProject/adminpanel/src/productComponent/Product.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Store from '../appredux/store';\nimport packageJson from '../../package.json';\nimport { ACTION_ADD_PRODUCT, ACTION_CHANGE_PRODUCT_STATUS } from '../appredux/actions/ProductAction';\nimport productService from '../services/ProductService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar mapStateToProps = state => {\n  return {\n    categories: state.categories,\n    brands: state.brands,\n    products: state.products\n  };\n};\n\nclass Product extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.save = event => {\n      var formData = new FormData();\n      formData.append('prod_image', this.filebox.files[0]);\n      formData.append('prod_name', this.namebox.value);\n      formData.append('prod_price', this.pricebox.value);\n      formData.append('prod_cate', this.catebox.value);\n      formData.append('prod_brand', this.brandbox.value);\n      productService.saveProduct(formData).then(response => response.json()).then(data => {\n        if (data.status) {\n          Store.dispatch({ ...ACTION_ADD_PRODUCT,\n            payload: {\n              product: data.product\n            }\n          });\n        }\n      });\n      this.namebox.value = '';\n      this.pricebox.value = '';\n      this.catebox.value = '';\n      this.brandbox.value = '';\n      event.preventDefault();\n    };\n\n    this.changeStatus = (status, pid) => {\n      console.log(status, pid);\n      productService.changeStatus(status, pid).then(response => response.json()).then(data => {\n        if (data.status) {\n          Store.dispatch({ ...ACTION_CHANGE_PRODUCT_STATUS,\n            payload: {\n              pid,\n              status\n            }\n          });\n        }\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Product Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"col-12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.save,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              ref: c => this.namebox = c,\n              className: \"form-control\",\n              placeholder: \"Product Name\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              ref: c => this.pricebox = c,\n              className: \"form-control\",\n              placeholder: \"Product Price\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              ref: c => this.catebox = c,\n              className: \"form-control\",\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Choose Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 29\n              }, this), this.props.categories.map((ob, index) => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: ob._id,\n                  children: ob.cate_name\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 40\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              ref: c => this.brandbox = c,\n              className: \"form-control\",\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Choose Brand\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 29\n              }, this), this.props.brands.map((ob, index) => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: ob._id,\n                  children: ob.brand_name\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 40\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              ref: c => this.filebox = c,\n              className: \"form-control\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-success\",\n              children: \"Save Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"col-12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"S.No.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Product Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Brand\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.props.products.map((prod, index) => {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `${packageJson.server}` + prod.prod_image,\n                  height: \"200\",\n                  width: \"200\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: prod.prod_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 29\n              }, this), this.props.categories.map(c => {\n                if (c._id == prod.prod_cate) return /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: c.cate_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 44\n                }, this);\n              }), this.props.brands.map(c => {\n                if (c._id == prod.prod_cate) return /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: c.brand_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 44\n                }, this);\n              }), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: prod.prod_price\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: [\" \", prod.prod_status ? /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-warning\",\n                  onClick: () => this.changeStatus(!prod.prod_status, prod._id),\n                  children: \"DeActivate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 54\n                }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-info\",\n                  onClick: () => this.changeStatus(!prod.prod_status, prod._id),\n                  children: \"Activate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 175\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 32\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default connect(mapStateToProps)(Product);","map":{"version":3,"sources":["/home/akash/Documents/part2/day729dec/ECommerceProject/adminpanel/src/productComponent/Product.js"],"names":["React","connect","Store","packageJson","ACTION_ADD_PRODUCT","ACTION_CHANGE_PRODUCT_STATUS","productService","mapStateToProps","state","categories","brands","products","Product","Component","save","event","formData","FormData","append","filebox","files","namebox","value","pricebox","catebox","brandbox","saveProduct","then","response","json","data","status","dispatch","payload","product","preventDefault","changeStatus","pid","console","log","render","c","props","map","ob","index","_id","cate_name","brand_name","prod","server","prod_image","prod_name","prod_cate","prod_price","prod_status"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport Store from '../appredux/store'\nimport packageJson from '../../package.json';\n\nimport { ACTION_ADD_PRODUCT, ACTION_CHANGE_PRODUCT_STATUS } from '../appredux/actions/ProductAction'\n\nimport productService from '../services/ProductService'\n\nvar mapStateToProps = state => {\n    return {\n        categories: state.categories,\n        brands: state.brands,\n        products: state.products\n    }\n}\n\nclass Product extends React.Component {\n    save = (event) => {\n        var formData = new FormData()\n        formData.append('prod_image', this.filebox.files[0])\n        formData.append('prod_name', this.namebox.value)\n        formData.append('prod_price', this.pricebox.value)\n        formData.append('prod_cate', this.catebox.value)\n        formData.append('prod_brand', this.brandbox.value)\n\n        productService.saveProduct(formData)\n            .then(response => response.json())\n            .then(data => {\n                if (data.status) {\n                    Store.dispatch({\n                        ...ACTION_ADD_PRODUCT, payload: {\n                            product: data.product\n                        }\n                    })\n                }\n            })\n        this.namebox.value = ''\n        this.pricebox.value = ''\n        this.catebox.value = ''\n        this.brandbox.value = ''\n        event.preventDefault()\n    }\n\n    changeStatus = (status, pid) => {\n        console.log(status, pid)\n        productService.changeStatus(status, pid)\n            .then(response => response.json())\n            .then(data => {\n                if (data.status) {\n                    Store.dispatch({\n                        ...ACTION_CHANGE_PRODUCT_STATUS, payload: {\n                            pid, status\n                        }\n                    })\n                }\n            })\n    }\n\n    render() {\n        return <>\n            <h1>Product Page</h1>\n            <hr className=\"col-12\" />\n            <form onSubmit={this.save}>\n                <div className='row'>\n                    <div className='col-lg-6'>\n                        <input type=\"text\" ref={c => this.namebox = c} className=\"form-control\"\n                            placeholder=\"Product Name\" required />\n                    </div>\n                    <div className='col-lg-6'>\n                        <input type=\"number\" ref={c => this.pricebox = c} className=\"form-control\"\n                            placeholder=\"Product Price\" required />\n                    </div>\n                </div>\n                <br />\n                <div className='row'>\n                    <div className='col-lg-6'>\n                        <select ref={c => this.catebox = c} className=\"form-control\"\n                            required>\n                            <option value=''>Choose Category</option>\n                            {this.props.categories.map((ob, index) => {\n                                return <option key={index} value={ob._id}>\n                                    {ob.cate_name}\n                                </option>\n                            })}\n                        </select>\n                    </div>\n                    <div className='col-lg-6'>\n                        <select ref={c => this.brandbox = c} className=\"form-control\"\n                            required>\n                            <option value=''>Choose Brand</option>\n                            {this.props.brands.map((ob, index) => {\n                                return <option key={index} value={ob._id}>\n                                    {ob.brand_name}\n                                </option>\n                            })}\n                        </select>\n                    </div>\n                </div>\n                <br />\n                <div className='row'>\n                    <div className='col-lg-6'>\n                        <input type=\"file\" ref={c => this.filebox = c}\n                            className=\"form-control\" required />\n                    </div>\n                    <div className='col-lg-6'>\n                        <button type='submit' className='btn btn-success'>Save Product</button>\n                    </div>\n                </div>\n            </form>\n            <hr className=\"col-12\" />\n            <table className=\"table table-striped\">\n                <thead>\n                    <tr>\n                        <th>S.No.</th>\n                        <th>Image</th>\n                        <th>Product Name</th>\n                        <th>Category</th>\n                        <th>Brand</th>\n                        <th>Price</th>\n                        <th>Status</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {this.props.products.map((prod, index) => {\n                        return <tr>\n                            <th>{index + 1}</th>\n                            <th>\n                                <img src={`${packageJson.server}` + prod.prod_image} height=\"200\" width=\"200\" />\n                            </th>\n                            <th>{prod.prod_name}</th>\n                            {this.props.categories.map((c) => {\n                                if (c._id == prod.prod_cate)\n                                    return <th>{c.cate_name}</th>\n                            })}\n                            {this.props.brands.map((c) => {\n                                if (c._id == prod.prod_cate)\n                                    return <th>{c.brand_name}</th>\n                            })}\n                            <th>{prod.prod_price}</th>\n                            <th> {prod.prod_status ? <button className='btn btn-warning' onClick={() => this.changeStatus(!prod.prod_status, prod._id)}>DeActivate</button> : <button className='btn btn-info' onClick={() => this.changeStatus(!prod.prod_status, prod._id)}>Activate</button>}</th>\n                        </tr>\n                    })}\n                </tbody>\n            </table>\n        </>\n    }\n}\n\nexport default connect(mapStateToProps)(Product)"]},"metadata":{},"sourceType":"module"}