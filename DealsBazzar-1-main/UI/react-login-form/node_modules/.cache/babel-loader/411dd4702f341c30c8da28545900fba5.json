{"ast":null,"code":"import _objectSpread from \"/home/akash/Aman/Aman_jan_17/DemoProject/UI/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/home/akash/Aman/Aman_jan_17/DemoProject/UI/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/akash/Aman/Aman_jan_17/DemoProject/UI/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/akash/Aman/Aman_jan_17/DemoProject/UI/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/akash/Aman/Aman_jan_17/DemoProject/UI/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/akash/Aman/Aman_jan_17/DemoProject/UI/react-login-form/src/ViewProducts/ViewProducts.js\";\nimport React from 'react';\nimport './ViewProducts.css';\nimport Store from '../Redux/Store';\nimport ProductService from '../Service/ProductService';\nimport * as actions from '../Redux/Action/ProductAction';\n\nvar ViewProducts = /*#__PURE__*/function (_React$Component) {\n  _inherits(ViewProducts, _React$Component);\n\n  var _super = _createSuper(ViewProducts);\n\n  function ViewProducts(props) {\n    var _this;\n\n    _classCallCheck(this, ViewProducts);\n\n    _this = _super.call(this, props);\n\n    _this.uploadImage = function (event) {\n      var formData = new FormData();\n      var pid = \"\";\n      var status = false;\n      var images = [];\n      formData.append('productId', _this.productId.value);\n      formData.append('imageFile', _this.filebox1.files[0]);\n      ProductService.uploadImage(formData).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        pid = data.data.productId;\n        status = data.data.productStatus;\n        images = data.data.productImages;\n\n        if (data.statusCode == 200) {\n          Store.dispatch(_objectSpread(_objectSpread({}, actions.ACTION_UPDATE_PRODUCT), {}, {\n            payload: {\n              pid: pid,\n              status: status,\n              images: images\n            }\n          }));\n        }\n      });\n      event.preventDefault();\n    };\n\n    console.log(_this.props.data);\n    return _this;\n  }\n\n  _createClass(ViewProducts, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, this.props.data.image != null ? /*#__PURE__*/React.createElement(React.Fragment, null, this.props.data.image.map(function (image) {\n        return /*#__PURE__*/React.createElement(\"img\", {\n          className: \"image\",\n          src: \"data:image/jpeg;base64,\".concat(image),\n          alt: \"first image\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 27\n          }\n        });\n      }), /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }\n      }, \"no of images: \", this.props.data.image.length), this.props.data.image.length >= 6 ? \"\" : /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.uploadImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"hidden\",\n        className: \"form-control\",\n        ref: function ref(c) {\n          return _this2.productId = c;\n        },\n        value: this.props.data.id,\n        \"aria-describedby\": \"emailHelp\",\n        readOnly: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"file\",\n        className: \"form-control\",\n        ref: function ref(c) {\n          return _this2.filebox1 = c;\n        },\n        \"aria-describedby\": \"emailHelp\",\n        placeholder: \"Enter email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }\n      }, \"Add Image\"))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.uploadImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"hidden\",\n        className: \"form-control\",\n        ref: function ref(c) {\n          return _this2.productId = c;\n        },\n        value: this.props.data.id,\n        \"aria-describedby\": \"emailHelp\",\n        readOnly: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"file\",\n        className: \"form-control\",\n        ref: function ref(c) {\n          return _this2.filebox1 = c;\n        },\n        \"aria-describedby\": \"emailHelp\",\n        placeholder: \"Enter email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }\n      }, \"Add Image\"))));\n    }\n  }]);\n\n  return ViewProducts;\n}(React.Component);\n\nexport default ViewProducts;","map":{"version":3,"sources":["/home/akash/Aman/Aman_jan_17/DemoProject/UI/react-login-form/src/ViewProducts/ViewProducts.js"],"names":["React","Store","ProductService","actions","ViewProducts","props","uploadImage","event","formData","FormData","pid","status","images","append","productId","value","filebox1","files","then","response","json","data","productStatus","productImages","statusCode","dispatch","ACTION_UPDATE_PRODUCT","payload","preventDefault","console","log","image","map","length","c","id","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport './ViewProducts.css'\nimport Store from '../Redux/Store'\nimport ProductService from '../Service/ProductService'\nimport * as actions from '../Redux/Action/ProductAction'\n\nclass ViewProducts extends React.Component {\n\n    constructor(props) {\n        super(props)\n        console.log(this.props.data)\n    }\n\n    uploadImage = (event) => {\n        var formData=new FormData();\n        var pid=\"\"\n        var status=false\n        var images=[]\n        formData.append('productId',this.productId.value)\n        formData.append('imageFile',this.filebox1.files[0])\n\n        ProductService.uploadImage(formData)\n        .then(response => response.json())\n      .then(data => {\n          pid=data.data.productId\n          status=data.data.productStatus\n          images=data.data.productImages\n        if (data.statusCode == 200) {\n          Store.dispatch({\n              ...actions.ACTION_UPDATE_PRODUCT,payload:{\n                  pid,status,images\n              }\n          })\n        }\n      })\n        \n        event.preventDefault();\n    }\n    render() {\n        return <>\n        {this.props.data.image != null ?\n                <>\n                {this.props.data.image.map((image)=>{\n                   return <img className=\"image\" src={`data:image/jpeg;base64,${image}`} alt=\"first image\"></img>\n                })}\n                    \n                    <h6>no of images: {this.props.data.image.length}</h6>\n                    {this.props.data.image.length>=6?\"\":\n                    <form onSubmit={this.uploadImage}>\n                        <div className=\"form-group\">\n                        <input type=\"hidden\" className=\"form-control\" ref={c => this.productId = c} value={this.props.data.id} aria-describedby=\"emailHelp\" readOnly />\n                            <input type=\"file\" className=\"form-control\" ref={c => this.filebox1 = c} aria-describedby=\"emailHelp\" placeholder=\"Enter email\" />\n                        </div>\n                        <button type=\"submit\" className=\"btn btn-primary\">Add Image</button>\n                    </form>\n                    }\n                    \n                </>\n                : <>\n                    <form onSubmit={this.uploadImage}>\n                        <div className=\"form-group\">\n                        <input type=\"hidden\" className=\"form-control\" ref={c => this.productId = c} value={this.props.data.id} aria-describedby=\"emailHelp\" readOnly/>\n                            <input type=\"file\" className=\"form-control\" ref={c => this.filebox1 = c} aria-describedby=\"emailHelp\" placeholder=\"Enter email\" />\n                        </div>\n                        <button type=\"submit\" className=\"btn btn-primary\">Add Image</button>\n                    </form>\n                </>}\n        </>\n    }\n}\n\nexport default ViewProducts;"]},"metadata":{},"sourceType":"module"}