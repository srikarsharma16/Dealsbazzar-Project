{"ast":null,"code":"var _jsxFileName = \"/home/akash/Documents/part2/day729dec/ECommerceProject/adminpanel/src/productComponent/Product.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Store from '../appredux/store';\nimport packageJson from '../../package.json';\nimport { ACTION_ADD_PRODUCT, ACTION_CHANGE_PRODUCT_STATUS } from '../appredux/actions/ProductAction';\nimport productService from '../services/ProductService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar mapStateToProps = state => {\n  return {\n    categories: state.categories,\n    brands: state.brands,\n    products: state.products\n  };\n};\n\nclass Product extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.save = event => {\n      var formData = new FormData();\n      formData.append('prod_image', this.filebox.files[0]);\n      formData.append('prod_name', this.namebox.value);\n      formData.append('prod_price', this.pricebox.value);\n      formData.append('prod_cate', this.catebox.value);\n      formData.append('prod_brand', this.brandbox.value);\n      productService.saveProduct(formData).then(response => response.json()).then(data => {\n        if (data.status) {\n          Store.dispatch({ ...ACTION_ADD_PRODUCT,\n            payload: {\n              product: data.product\n            }\n          });\n        }\n      });\n      this.namebox.value = '';\n      this.pricebox.value = '';\n      this.catebox.value = '';\n      this.brandbox.value = '';\n      event.preventDefault();\n    };\n\n    this.changeStatus = (status, pid) => {\n      console.log(status, pid);\n      productService.changeStatus(status, pid).then(response => response.json()).then(data => {\n        if (data.status) {\n          Store.dispatch({ ...ACTION_CHANGE_PRODUCT_STATUS,\n            payload: {\n              pid,\n              status\n            }\n          });\n        }\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Product Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"col-12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.save,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              ref: c => this.namebox = c,\n              className: \"form-control\",\n              placeholder: \"Product Name\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              ref: c => this.pricebox = c,\n              className: \"form-control\",\n              placeholder: \"Product Price\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              ref: c => this.catebox = c,\n              className: \"form-control\",\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Choose Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 21\n              }, this), this.props.categories.map((ob, index) => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: ob._id,\n                  children: ob.cate_name\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 28\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              ref: c => this.brandbox = c,\n              className: \"form-control\",\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Choose Brand\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 21\n              }, this), this.props.brands.map((ob, index) => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: ob.brand_name,\n                  children: ob.brand_name\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 28\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              ref: c => this.filebox = c,\n              className: \"form-control\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-success\",\n              children: \"Save Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"col-12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"S.No.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Product Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Brand\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.props.products.map((prod, index) => {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `${packageJson.server}` + prod.prod_image,\n                  height: \"200\",\n                  width: \"200\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: prod.prod_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 21\n              }, this), this.props.categories.map(c => {\n                if (c._id == prod.prod_cate) return /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: c.cate_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 34\n                }, this);else return /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 34\n                }, this);\n              }), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: prod.prod_brand\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: prod.prod_price\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: [\" \", prod.prod_status ? /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-warning\",\n                  onClick: () => this.changeStatus(!prod.prod_status, prod._id),\n                  children: \"DeActivate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 44\n                }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-info\",\n                  onClick: () => this.changeStatus(!prod.prod_status, prod._id),\n                  children: \"Activate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 160\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 28\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default connect(mapStateToProps)(Product);","map":{"version":3,"sources":["/home/akash/Documents/part2/day729dec/ECommerceProject/adminpanel/src/productComponent/Product.js"],"names":["React","connect","Store","packageJson","ACTION_ADD_PRODUCT","ACTION_CHANGE_PRODUCT_STATUS","productService","mapStateToProps","state","categories","brands","products","Product","Component","save","event","formData","FormData","append","filebox","files","namebox","value","pricebox","catebox","brandbox","saveProduct","then","response","json","data","status","dispatch","payload","product","preventDefault","changeStatus","pid","console","log","render","c","props","map","ob","index","_id","cate_name","brand_name","prod","server","prod_image","prod_name","prod_cate","prod_brand","prod_price","prod_status"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport Store from '../appredux/store'\nimport packageJson from '../../package.json';\n\nimport {ACTION_ADD_PRODUCT,ACTION_CHANGE_PRODUCT_STATUS} from '../appredux/actions/ProductAction'\n\nimport productService from '../services/ProductService'\n\nvar mapStateToProps = state => {\n    return { categories : state.categories , \n             brands : state.brands,\n             products : state.products  \n           }\n}\n\nclass Product extends React.Component\n{\n    save = (event)=>{\n        var formData = new FormData()\n        formData.append('prod_image',this.filebox.files[0])\n        formData.append('prod_name',this.namebox.value)\n        formData.append('prod_price',this.pricebox.value)\n        formData.append('prod_cate',this.catebox.value)\n        formData.append('prod_brand',this.brandbox.value)\n        \n        productService.saveProduct(formData)\n        .then(response=>response.json())\n        .then(data=>{\n            if(data.status){\n                Store.dispatch({...ACTION_ADD_PRODUCT,payload:{\n                    product :  data.product\n                }})\n            }\n        })\n        this.namebox.value=''\n        this.pricebox.value=''\n        this.catebox.value=''\n        this.brandbox.value=''\n        event.preventDefault()\n    }\n\n    changeStatus = (status,pid)=>{\n        console.log(status,pid)\n        productService.changeStatus(status,pid)\n        .then(response=>response.json())\n        .then(data=>{\n            if(data.status){\n               Store.dispatch({...ACTION_CHANGE_PRODUCT_STATUS,payload:{\n                   pid,status\n               }})\n            }\n        })\n    }\n\n    render() \n    {        \n        return <>\n        <h1>Product Page</h1>\n        <hr className=\"col-12\"/>  \n        <form onSubmit={this.save}>\n        <div className='row'>\n           <div className='col-lg-6'>\n                <input type=\"text\" ref={c=>this.namebox=c} className=\"form-control\" \n                placeholder=\"Product Name\" required/>\n           </div>\n           <div className='col-lg-6'>\n                <input type=\"number\" ref={c=>this.pricebox=c} className=\"form-control\" \n                placeholder=\"Product Price\" required/>\n           </div>\n        </div>\n        <br/>\n        <div className='row'>\n           <div className='col-lg-6'>\n                <select ref={c=>this.catebox=c} className=\"form-control\" \n                required>\n                    <option value=''>Choose Category</option>\n                    {this.props.categories.map((ob,index)=>{\n                    return <option key={index} value={ob._id}>                           \n                                {ob.cate_name}\n                            </option>\n                })}\n                </select>\n           </div>\n           <div className='col-lg-6'>\n                <select ref={c=>this.brandbox=c} className=\"form-control\" \n                required>\n                    <option value=''>Choose Brand</option>\n                    {this.props.brands.map((ob,index)=>{\n                    return <option key={index} value={ob.brand_name}>                           \n                                {ob.brand_name}\n                            </option>\n                })}\n                </select>\n           </div>\n        </div>\n        <br/>\n        <div className='row'>\n           <div className='col-lg-6'>\n               <input type=\"file\" ref={c=>this.filebox=c} \n               className=\"form-control\" required/>\n           </div>\n           <div className='col-lg-6'>\n               <button type='submit' className='btn btn-success'>Save Product</button>\n           </div>\n        </div>\n        </form>   \n        <hr className=\"col-12\"/>     \n        <table className=\"table table-striped\">\n            <thead>\n                <tr>\n                    <th>S.No.</th>\n                    <th>Image</th>\n                    <th>Product Name</th>                    \n                    <th>Category</th>\n                    <th>Brand</th>\n                    <th>Price</th>\n                    <th>Status</th>\n                </tr>\n            </thead>\n            <tbody>\n                {this.props.products.map((prod,index)=>\n                {\n                    return <tr>\n                    <th>{index+1}</th>\n                    <th>\n                        <img src={`${packageJson.server}`+prod.prod_image} height=\"200\" width=\"200\"/>\n                    </th>\n                    <th>{prod.prod_name}</th>                    \n                    {this.props.categories.map((c)=>{\n                        if(c._id==prod.prod_cate)\n                          return <th>{c.cate_name}</th>\n                          else\n                          return <th>Category</th>\n                        })}\n                    <th>{prod.prod_brand}</th>\n                    <th>{prod.prod_price}</th>\n                    <th> {prod.prod_status?<button className='btn btn-warning' onClick={()=>this.changeStatus(!prod.prod_status,prod._id)}>DeActivate</button>:<button className='btn btn-info' onClick={()=>this.changeStatus(!prod.prod_status,prod._id)}>Activate</button>}</th>\n                    </tr>\n                })}\n            </tbody>\n        </table>\n    </>\n    }\n}\n\nexport default connect(mapStateToProps)(Product)"]},"metadata":{},"sourceType":"module"}