{"ast":null,"code":"var _jsxFileName = \"/home/akash/Documents/part2/day103jan/ECommerceProject/adminpanel/src/productComponent/Product.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Store from '../appredux/store';\nimport packageJson from '../../package.json';\nimport { ACTION_ADD_PRODUCT, ACTION_CHANGE_PRODUCT_STATUS } from '../appredux/actions/ProductAction';\nimport productService from '../services/ProductService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar mapStateToProps = state => {\n  return {\n    categories: state.categories,\n    brands: state.brands,\n    products: state.products.sort((a, b) => a.prod_status > b.prod_status ? 1 : b.prod_status > a.prod_status ? -1 : 0)\n  };\n};\n\nclass Product extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.save = event => {\n      var formData = new FormData();\n      formData.append('prod_image', this.filebox.files[0]);\n      formData.append('prod_name', this.namebox.value);\n      formData.append('prod_price', this.pricebox.value);\n      formData.append('prod_cate', this.catebox.value);\n      formData.append('prod_brand', this.brandbox.value);\n      productService.saveProduct(formData).then(response => response.json()).then(data => {\n        if (data.status) {\n          Store.dispatch({ ...ACTION_ADD_PRODUCT,\n            payload: {\n              product: data.product\n            }\n          });\n        }\n      });\n      event.preventDefault();\n    };\n\n    this.changeStatus = (status, pid) => {\n      console.log(status, pid);\n      productService.changeStatus(status, pid).then(response => response.json()).then(data => {\n        if (data.status) {\n          Store.dispatch({ ...ACTION_CHANGE_PRODUCT_STATUS,\n            payload: {\n              pid,\n              status\n            }\n          });\n        }\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Product Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"col-12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.save,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              ref: c => this.namebox = c,\n              className: \"form-control\",\n              placeholder: \"Product Name\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              ref: c => this.pricebox = c,\n              className: \"form-control\",\n              placeholder: \"Product Price\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              ref: c => this.catebox = c,\n              className: \"form-control\",\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Choose Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 21\n              }, this), this.props.categories.map((ob, index) => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: ob._id,\n                  children: ob.cate_name\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 28\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              ref: c => this.brandbox = c,\n              className: \"form-control\",\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Choose Brand\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 21\n              }, this), this.props.brands.map((ob, index) => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: ob.id,\n                  children: ob.name\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 28\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              ref: c => this.filebox = c,\n              className: \"form-control\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-success\",\n              children: \"Save Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"col-12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"S.No.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Product Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Brand\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.props.products.map((prod, index) => {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `${packageJson.server}` + prod.prod_image,\n                  height: \"200\",\n                  width: \"200\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: prod.prod_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: prod.prod_brand\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: prod.prod_price\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: prod.prod_status ? /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-warning\",\n                  onClick: () => this.changeStatus(!prod.prod_status, prod._id),\n                  children: \"DeActivate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 43\n                }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-info\",\n                  onClick: () => this.changeStatus(!prod.prod_status, prod._id),\n                  children: \"Activate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 159\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 28\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default connect(mapStateToProps)(Product);","map":{"version":3,"sources":["/home/akash/Documents/part2/day103jan/ECommerceProject/adminpanel/src/productComponent/Product.js"],"names":["React","connect","Store","packageJson","ACTION_ADD_PRODUCT","ACTION_CHANGE_PRODUCT_STATUS","productService","mapStateToProps","state","categories","brands","products","sort","a","b","prod_status","Product","Component","save","event","formData","FormData","append","filebox","files","namebox","value","pricebox","catebox","brandbox","saveProduct","then","response","json","data","status","dispatch","payload","product","preventDefault","changeStatus","pid","console","log","render","c","props","map","ob","index","_id","cate_name","id","name","prod","server","prod_image","prod_name","prod_brand","prod_price"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport Store from '../appredux/store'\nimport packageJson from '../../package.json';\nimport {ACTION_ADD_PRODUCT,ACTION_CHANGE_PRODUCT_STATUS} from '../appredux/actions/ProductAction'\n\nimport productService from '../services/ProductService'\n\nvar mapStateToProps = state => {\n    return { categories : state.categories , \n             brands : state.brands,\n             products : state.products.sort((a,b)=>(a.prod_status > b.prod_status) ? 1 : ((b.prod_status > a.prod_status) ? -1 : 0))  \n           }\n}\n\nclass Product extends React.Component\n{\n    save = (event)=>{\n        var formData = new FormData()\n        formData.append('prod_image',this.filebox.files[0])\n        formData.append('prod_name',this.namebox.value)\n        formData.append('prod_price',this.pricebox.value)\n        formData.append('prod_cate',this.catebox.value)\n        formData.append('prod_brand',this.brandbox.value)\n        \n        productService.saveProduct(formData)\n        .then(response=>response.json())\n        .then(data=>{\n            if(data.status){\n                Store.dispatch({...ACTION_ADD_PRODUCT,payload:{\n                    product :  data.product\n                }})\n            }\n        })\n        event.preventDefault()\n    }\n\n    changeStatus = (status,pid)=>{\n        console.log(status,pid)\n        productService.changeStatus(status,pid)\n        .then(response=>response.json())\n        .then(data=>{\n            if(data.status){\n               Store.dispatch({...ACTION_CHANGE_PRODUCT_STATUS,payload:{\n                   pid,status\n               }})\n            }\n        })\n    }\n\n    render() \n    {        \n        return <>\n        <h1>Product Page</h1>\n        <hr className=\"col-12\"/>  \n        <form onSubmit={this.save}>\n        <div className='row'>\n           <div className='col-lg-6'>\n                <input type=\"text\" ref={c=>this.namebox=c} className=\"form-control\" \n                placeholder=\"Product Name\" required/>\n           </div>\n           <div className='col-lg-6'>\n                <input type=\"number\" ref={c=>this.pricebox=c} className=\"form-control\" \n                placeholder=\"Product Price\" required/>\n           </div>\n        </div>\n        <br/>\n        <div className='row'>\n           <div className='col-lg-6'>\n                <select ref={c=>this.catebox=c} className=\"form-control\" \n                required>\n                    <option value=''>Choose Category</option>\n                    {this.props.categories.map((ob,index)=>{\n                    return <option key={index} value={ob._id}>                           \n                                {ob.cate_name}\n                            </option>\n                })}\n                </select>\n           </div>\n           <div className='col-lg-6'>\n                <select ref={c=>this.brandbox=c} className=\"form-control\" \n                required>\n                    <option value=''>Choose Brand</option>\n                    {this.props.brands.map((ob,index)=>{\n                    return <option key={index} value={ob.id}>                           \n                                {ob.name}\n                            </option>\n                })}\n                </select>\n           </div>\n        </div>\n        <br/>\n        <div className='row'>\n           <div className='col-lg-6'>\n               <input type=\"file\" ref={c=>this.filebox=c} \n               className=\"form-control\" required/>\n           </div>\n           <div className='col-lg-6'>\n               <button type='submit' className='btn btn-success'>Save Product</button>\n           </div>\n        </div>\n        </form>   \n        <hr className=\"col-12\"/>     \n        <table className=\"table table-striped\">\n            <thead>\n                <tr>\n                    <th>S.No.</th>\n                    <th>Image</th>\n                    <th>Product Name</th>                    \n                    <th>Category</th>\n                    <th>Brand</th>\n                    <th>Price</th>\n                    <th>Status</th>\n                </tr>\n            </thead>\n            <tbody>\n                {this.props.products.map((prod,index)=>\n                {\n                    return <tr key={index}>\n                    <th>{index+1}</th>\n                    <th>\n                        <img src={`${packageJson.server}`+prod.prod_image} height=\"200\" width=\"200\"/>\n                    </th>\n                    <th>{prod.prod_name}</th>                    \n                    <th>Category</th>\n                    <th>{prod.prod_brand}</th>\n                    <th>{prod.prod_price}</th>\n                    <th>\n                        {prod.prod_status?<button className='btn btn-warning' onClick={()=>this.changeStatus(!prod.prod_status,prod._id)}>DeActivate</button>:<button className='btn btn-info' onClick={()=>this.changeStatus(!prod.prod_status,prod._id)}>Activate</button>}\n                    </th>\n                    </tr>\n                })}\n            </tbody>\n        </table>\n    </>\n    }\n}\n\nexport default connect(mapStateToProps)(Product)"]},"metadata":{},"sourceType":"module"}