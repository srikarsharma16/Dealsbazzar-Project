{"ast":null,"code":"import _objectSpread from \"/home/srikarkalle/Documents/NewCode/DealsBazzar/UI/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/home/srikarkalle/Documents/NewCode/DealsBazzar/UI/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/srikarkalle/Documents/NewCode/DealsBazzar/UI/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/srikarkalle/Documents/NewCode/DealsBazzar/UI/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/srikarkalle/Documents/NewCode/DealsBazzar/UI/react-login-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/srikarkalle/Documents/NewCode/DealsBazzar/UI/react-login-form/src/ProfileComponent/Profile.js\";\nimport React, { useState, useEffect } from 'react'; //import { Form, Button, Row, Col } from \"react-bootstrap\";\n\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport \"./Profile.css\"; //import ProfileService from '../Service/ProfileService'\n//import * as actions from '../Redux/Action/ProfileAction'\n//import User from '../Redux/User'\n\nimport store from '../Redux/Store';\nimport Store from '../Redux/Store';\nimport UserService from '../Service/UserService';\nimport { ACTION_USER_UPDATE_TOKEN } from '../Redux/Action/UserAction';\nimport { ACTION_USER_LOGOUT } from '../Redux/Action/UserAction';\nimport { ACTION_LOAD_USER_DATA } from '../Redux/Action/UserAction';\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user,\n    token: state.user.token\n  };\n};\n\nvar Profile = /*#__PURE__*/function (_React$Component) {\n  _inherits(Profile, _React$Component);\n\n  var _super = _createSuper(Profile);\n\n  function Profile() {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    _this = _super.call(this); //console.log(this.props.data)\n\n    _this.updateProfile = function (event) {\n      var ob = {\n        userId: _this.props.user.token,\n        name: _this.name.value,\n        phone: _this.phone.value,\n        address: _this.address.value,\n        email: _this.email.value\n      };\n      UserService.updateProfile(ob).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(data);\n\n        if (data.statusCode == 200) {\n          Store.dispatch(_objectSpread(_objectSpread({}, ACTION_LOAD_USER_DATA), {}, {\n            payload: {\n              userdetails: data.data\n            }\n          }));\n        }\n      });\n      event.preventDefault();\n    };\n\n    _this.state = {\n      editStatus: false,\n      name: '',\n      phone: '',\n      address: '',\n      email: ''\n    }; //user:{name:'',phone:'',address:'',email:''}\n\n    return _this;\n  }\n  /* componentDidUpdate() {\n      this.name.value=this.state.user.name\n      this.phone.value=this.state.user.phone\n      this.address.value=this.state.user.address\n      \n  }\n  */\n\n\n  _createClass(Profile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        name: this.props.user.userdetails.name,\n        email: this.props.user.userdetails.email,\n        phone: this.props.user.userdetails.phone,\n        address: this.props.user.userdetails.address\n      });\n    }\n  }, {\n    key: \"componentDidUnmount\",\n    value: function componentDidUnmount() {\n      this.setState({\n        editStatus: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.props.user.loginstatus == false) {\n        return /*#__PURE__*/React.createElement(Navigate, {\n          to: \"/\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 21\n          }\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"container bootstrap snippets bootdeys\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 1\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 1\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-xs-12 col-sm-9\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 3\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        class: \"form-horizontal\",\n        onSubmit: this.updateProfile,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"panel panel-default\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"panel-heading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        class: \"panel-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }\n      }, \"User info\")), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"panel-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        class: \"col-sm-2 control-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }\n      }, \"User Name\"), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-sm-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n        type: \"text\",\n        class: \"form-control\"\n      }, this.state.editStatus != false ? oninput = function oninput(event) {\n        _this2.setState({\n          name: event.target.value\n        });\n      } : \"\", {\n        value: this.state.name,\n        ref: function ref(c) {\n          return _this2.name = c;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 15\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        class: \"col-sm-2 control-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }\n      }, \"User Email\"), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-sm-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n        type: \"text\",\n        class: \"form-control\"\n      }, this.state.editStatus != false ? oninput = function oninput(event) {\n        _this2.setState({\n          email: event.target.value\n        });\n      } : \"\", {\n        value: this.state.email,\n        ref: function ref(c) {\n          return _this2.email = c;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 15\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        class: \"col-sm-2 control-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }\n      }, \"Mobile number\"), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-sm-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n        type: \"tel\",\n        class: \"form-control\"\n      }, this.state.editStatus != false ? oninput = function oninput(event) {\n        _this2.setState({\n          phone: event.target.value\n        });\n      } : \"\", {\n        value: this.state.phone,\n        ref: function ref(c) {\n          return _this2.phone = c;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 15\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        class: \"col-sm-2 control-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }\n      }, \"Address\"), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-sm-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n        type: \"text\",\n        class: \"form-control\"\n      }, this.state.editStatus != false ? oninput = function oninput(event) {\n        _this2.setState({\n          address: event.target.value\n        });\n      } : \"\", {\n        value: this.state.address,\n        ref: function ref(c) {\n          return _this2.address = c;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 15\n        }\n      })))), this.state.editStatus != false ? /*#__PURE__*/React.createElement(\"div\", {\n        class: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-sm-10 col-sm-offset-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        class: \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 15\n        }\n      }, \"UPDATE\"))) : /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 12\n        }\n      })))), this.state.editStatus == false ? /*#__PURE__*/React.createElement(\"div\", {\n        class: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-sm-10 col-sm-offset-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        class: \"btn btn-primary\",\n        onClick: function onClick(event) {\n          return _this2.setState({\n            editStatus: true\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 15\n        }\n      }, \"EDIT\"))) : /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 6\n        }\n      })))));\n    }\n  }]);\n\n  return Profile;\n}(React.Component);\n\nexport default connect(mapStateToProps)(Profile);","map":{"version":3,"sources":["/home/srikarkalle/Documents/NewCode/DealsBazzar/UI/react-login-form/src/ProfileComponent/Profile.js"],"names":["React","useState","useEffect","connect","Link","Routes","Route","Navigate","store","Store","UserService","ACTION_USER_UPDATE_TOKEN","ACTION_USER_LOGOUT","ACTION_LOAD_USER_DATA","mapStateToProps","state","user","token","Profile","updateProfile","event","ob","userId","props","name","value","phone","address","email","then","response","json","data","console","log","statusCode","dispatch","payload","userdetails","preventDefault","editStatus","setState","loginstatus","oninput","target","c","Component"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\n//import { Form, Button, Row, Col } from \"react-bootstrap\";\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { Routes, Route, Navigate } from 'react-router-dom'\nimport \"./Profile.css\";\n//import ProfileService from '../Service/ProfileService'\n//import * as actions from '../Redux/Action/ProfileAction'\n//import User from '../Redux/User'\nimport store from '../Redux/Store'\nimport Store from '../Redux/Store'\nimport UserService from '../Service/UserService'\nimport {ACTION_USER_UPDATE_TOKEN} from '../Redux/Action/UserAction'\nimport { ACTION_USER_LOGOUT} from '../Redux/Action/UserAction'\nimport {ACTION_LOAD_USER_DATA} from '../Redux/Action/UserAction'\n\nvar mapStateToProps = state => {\n  return {\n    user: state.user,\n    token: state.user.token\n  }\n}\n\nclass Profile extends React.Component\n{\n       constructor() {\n        super()\n        //console.log(this.props.data)\n         this.state={\n          editStatus:false,\n          name:'',\n          phone:'',\n          address:'',\n          email:''\n      }\n      \n      //user:{name:'',phone:'',address:'',email:''}\n  } \n\n    /* componentDidUpdate() {\n        this.name.value=this.state.user.name\n        this.phone.value=this.state.user.phone\n        this.address.value=this.state.user.address\n        \n    }\n */\n    componentDidMount() {\n        this.setState({name:this.props.user.userdetails.name,\n          email:this.props.user.userdetails.email,\n          phone:this.props.user.userdetails.phone,\n          address:this.props.user.userdetails.address})\n    }\n    componentDidUnmount() {\n      this.setState({editStatus:false})\n    }\n\n    \n\n    updateProfile = (event) => {\n        var ob = {\n            userId:this.props.user.token,\n            name:this.name.value,\n            phone:this.phone.value,\n            address:this.address.value,\n            email:this.email.value\n        }\n        UserService.updateProfile(ob)\n        .then(response => response.json())\n        .then(data=> {\n            console.log(data)\n            if(data.statusCode==200){\n                      \n              Store.dispatch({\n                  ...ACTION_LOAD_USER_DATA,\n                  payload:{userdetails:data.data}\n              })\n              \n          }\n        });\n        event.preventDefault()\n    }\n\n\n      render()\n      {\n          if(this.props.user.loginstatus==false)\n          {\n              return<Navigate to=\"/\"></Navigate>\n          }\n          return <>\n      \n<div class=\"container bootstrap snippets bootdeys\">\n<div class=\"row\">\n  <div class=\"col-xs-12 col-sm-9\">\n    <form class=\"form-horizontal\" onSubmit={this.updateProfile}>\n\n    <div class=\"panel panel-default\">\n\n        <div class=\"panel-heading\">\n        <h4 class=\"panel-title\">User info</h4>\n        </div>\n\n        <div class=\"panel-body\">\n\n          <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\">User Name</label>\n            <div class=\"col-sm-10\">\n              <input type=\"text\" class=\"form-control\"\n              {...this.state.editStatus!=false? oninput=((event)=>{\n                this.setState({name:event.target.value})\n              }) :\"\"}\n              value={this.state.name} ref={c => this.name = c}></input>\n            </div>\n          </div>\n\n          <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\">User Email</label>\n            <div class=\"col-sm-10\">\n              <input type=\"text\" class=\"form-control\"\n              {...this.state.editStatus!=false? oninput=((event)=>{\n                this.setState({email:event.target.value})\n              }) :\"\"}\n              value={this.state.email} ref={c => this.email = c}></input>\n            </div>\n          </div>\n\n          <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\">Mobile number</label>\n            <div class=\"col-sm-10\">\n              <input type=\"tel\" class=\"form-control\"\n              {...this.state.editStatus!=false? oninput=((event)=>{\n                this.setState({phone:event.target.value})\n              }) :\"\"}\n              value={this.state.phone} ref={c => this.phone = c}></input>\n            </div>\n          </div>\n\n          <div class=\"form-group\">\n            <label class=\"col-sm-2 control-label\">Address</label>\n            <div class=\"col-sm-10\">\n              <input type=\"text\" class=\"form-control\" \n              {...this.state.editStatus!=false? oninput=((event)=>{\n                this.setState({address:event.target.value})\n              }) :\"\"}\n              value={this.state.address} ref={c => this.address = c}></input>\n            </div>\n          </div>\n\n          {this.state.editStatus!=false?\n          <div class=\"form-group\">\n            <div class=\"col-sm-10 col-sm-offset-2\">\n              \n              <button type=\"submit\" class=\"btn btn-primary\">UPDATE</button>\n            </div>\n          </div>\n          :<h1></h1>}\n        </div>\n      </div>\n    \n    </form>\n    {this.state.editStatus==false?\n    <div class=\"form-group\">\n            <div class=\"col-sm-10 col-sm-offset-2\">\n              \n              <button type=\"submit\" class=\"btn btn-primary\" \n              onClick={(event) =>(this.setState({editStatus:true}))} >EDIT</button>\n            </div>\n    </div>\n    :<h1></h1>}\n  </div>\n</div>\n</div>\n          </>\n    \n}\n}\nexport default connect(mapStateToProps)(Profile);"]},"metadata":{},"sourceType":"module"}